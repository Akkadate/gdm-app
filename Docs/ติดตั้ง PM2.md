###  ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ PM2 (‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏£‡∏±‡∏ô Node.js ‡πÅ‡∏ö‡∏ö daemon)

```bash
# ‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á PM2
sudo npm install -g pm2


 ## ‡∏£‡∏±‡∏ô backend ‡πÅ‡∏•‡∏∞ frontend ‡∏î‡πâ‡∏ß‡∏¢ pm2 start

gdm-app/
‚îú‚îÄ‚îÄ backend/
‚îÇ   ‚îî‚îÄ‚îÄ package.json (‡∏°‡∏µ script "start")
‚îú‚îÄ‚îÄ frontend/
‚îÇ   ‚îî‚îÄ‚îÄ package.json (‡∏°‡∏µ script "start")


### ‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÑ‡∏ü‡∏•‡πå‡∏ó‡∏µ‡πà root ‡∏Ç‡∏≠‡∏á‡πÇ‡∏õ‡∏£‡πÄ‡∏à‡∏Å‡∏ï‡πå gdm-app:
gdm-app/ecosystem.config.js

```
module.exports = {
  apps: [
    {
      name: 'gdm-backend',
      cwd: './backend', // ‡πÑ‡∏õ‡∏ó‡∏µ‡πà‡πÇ‡∏ü‡∏•‡πÄ‡∏î‡∏≠‡∏£‡πå backend ‡∏Å‡πà‡∏≠‡∏ô
      script: 'npm',
      args: 'start',
      interpreter: 'none',
      env: {
        NODE_ENV: 'production',
        PORT: 5000, // ‡∏´‡∏£‡∏∑‡∏≠ port ‡∏ó‡∏µ‡πà backend ‡πÉ‡∏ä‡πâ
      },
    },
    {
      name: 'gdm-frontend',
      cwd: './frontend', // ‡πÑ‡∏õ‡∏ó‡∏µ‡πà‡πÇ‡∏ü‡∏•‡πÄ‡∏î‡∏≠‡∏£‡πå frontend ‡∏Å‡πà‡∏≠‡∏ô
      script: 'npm',
      args: 'start',
      interpreter: 'none',
      env: {
        NODE_ENV: 'development',
        PORT: 3000, // ‡∏´‡∏£‡∏∑‡∏≠ port ‡∏ó‡∏µ‡πà frontend ‡πÉ‡∏ä‡πâ
      },
    }
  ]
};

```
### üõ† ‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢‡πÅ‡∏ï‡πà‡∏•‡∏∞‡∏™‡πà‡∏ß‡∏ô
Key                  | ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏´‡∏°‡∏≤‡∏¢
name                | ‡∏ä‡∏∑‡πà‡∏≠ process ‡∏ó‡∏µ‡πà‡∏à‡∏∞‡πÄ‡∏´‡πá‡∏ô‡πÉ‡∏ô pm2 list
cwd                 | (Current Working Directory) ‡πÉ‡∏´‡πâ‡πÄ‡∏Ç‡πâ‡∏≤‡πÇ‡∏ü‡∏•‡πÄ‡∏î‡∏≠‡∏£‡πå‡∏ô‡∏±‡πâ‡∏ô‡∏Å‡πà‡∏≠‡∏ô‡∏£‡∏±‡∏ô
script              | ‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á‡∏´‡∏•‡∏±‡∏Å (‡πÄ‡∏£‡∏≤‡πÉ‡∏ä‡πâ npm)
args                | ‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á‡∏ï‡πà‡∏≠‡∏ó‡πâ‡∏≤‡∏¢ (‡πÄ‡∏£‡∏≤‡πÉ‡∏ä‡πâ start)
interpreter: 'none' | ‡∏ö‡∏≠‡∏Å‡∏ß‡πà‡∏≤‡∏≠‡∏¢‡πà‡∏≤‡πÉ‡∏ä‡πâ node ‡πÇ‡∏î‡∏¢‡∏ï‡∏£‡∏á ‡πÄ‡∏û‡∏£‡∏≤‡∏∞ npm ‡∏°‡∏±‡∏ô‡πÄ‡∏õ‡πá‡∏ô shell script
env                 | ‡∏ï‡∏±‡πâ‡∏á environment variables ‡∏ï‡πà‡∏≤‡∏á‡πÜ ‡πÑ‡∏î‡πâ‡πÄ‡∏•‡∏¢


### üöÄ ‡∏ß‡∏¥‡∏ò‡∏µ‡πÉ‡∏ä‡πâ ecosystem.config.js
‡∏´‡∏•‡∏±‡∏á‡∏à‡∏≤‡∏Å‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÑ‡∏ü‡∏•‡πå‡πÅ‡∏•‡πâ‡∏ß ‡πÉ‡∏´‡πâ‡∏™‡∏±‡πà‡∏á:

```
# ‡∏£‡∏±‡∏ô‡πÇ‡∏õ‡∏£‡πÄ‡∏à‡∏Å‡∏ï‡πå‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î
pm2 start ecosystem.config.js

# ‡πÄ‡∏ã‡∏ü process ‡πÑ‡∏ß‡πâ (‡∏´‡∏•‡∏±‡∏á reboot server ‡πÅ‡∏•‡πâ‡∏ß‡∏à‡∏∞‡∏£‡∏±‡∏ô‡πÄ‡∏≠‡∏á)
pm2 save

# ‡∏î‡∏π‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞
pm2 list

```
‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç (Frontend/React)
‡∏ï‡∏≠‡∏ô deploy production ‡∏à‡∏£‡∏¥‡∏á
‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥‡∏ß‡πà‡∏≤ frontend ‡∏≠‡∏¢‡πà‡∏≤‡∏£‡∏±‡∏ô npm start (‡∏°‡∏±‡∏ô‡πÄ‡∏õ‡∏¥‡∏î dev server)
‡∏Ñ‡∏ß‡∏£ npm run build ‡πÅ‡∏•‡πâ‡∏ß‡πÉ‡∏ä‡πâ serve ‡∏´‡∏£‡∏∑‡∏≠ Nginx ‡πÅ‡∏ó‡∏ô

‡πÅ‡∏ï‡πà‡∏ñ‡πâ‡∏≤‡∏¢‡∏±‡∏á‡∏û‡∏±‡∏í‡∏ô‡∏≤‡∏≠‡∏¢‡∏π‡πà ‡∏´‡∏£‡∏∑‡∏≠‡∏≠‡∏¢‡∏≤‡∏Å‡∏á‡πà‡∏≤‡∏¢‡∏Å‡πà‡∏≠‡∏ô‡∏Å‡πá‡∏£‡∏±‡∏ô npm start ‡πÑ‡∏õ‡∏Å‡πà‡∏≠‡∏ô‡πÑ‡∏î‡πâ‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡∏Ñ‡∏£‡∏±‡∏ö


### ‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏° (Advance)
‡∏ñ‡πâ‡∏≤‡∏≠‡∏¢‡∏≤‡∏Å‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£ log ‡∏´‡∏£‡∏∑‡∏≠ restart ‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥‡∏ñ‡πâ‡∏≤ server ‡∏•‡πà‡∏° ‡πÉ‡∏´‡πâ‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏Ç‡πâ‡∏≤‡πÑ‡∏õ‡πÉ‡∏ô‡πÅ‡∏ï‡πà‡∏•‡∏∞ app ‡πÑ‡∏î‡πâ ‡πÄ‡∏ä‡πà‡∏ô:
```
max_memory_restart: '300M',   // ‡∏ñ‡πâ‡∏≤‡πÉ‡∏ä‡πâ‡πÅ‡∏£‡∏°‡πÄ‡∏Å‡∏¥‡∏ô 300MB ‡πÉ‡∏´‡πâ restart
watch: false,                 // ‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á watch auto reload (production ‡πÉ‡∏ä‡πâ false)
```
```
pm2 list
pm2 log
```


### ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Å‡∏≤‡∏£‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ (‡πÉ‡∏´‡πâ server reboot ‡πÅ‡∏•‡πâ‡∏ß‡∏¢‡∏±‡∏á‡∏£‡∏±‡∏ô‡∏≠‡∏¢‡∏π‡πà)
```
pm2 save
pm2 startup
```

# ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤‡πÉ‡∏´‡πâ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÄ‡∏ã‡∏¥‡∏£‡πå‡∏ü‡πÄ‡∏ß‡∏≠‡∏£‡πå‡∏£‡∏µ‡∏™‡∏ï‡∏≤‡∏£‡πå‡∏ó
pm2 startup
pm2 save
```
### ‡∏Å‡∏≤‡∏£‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡πÇ‡∏õ‡∏£‡πÅ‡∏Å‡∏£‡∏°
‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á | ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏´‡∏°‡∏≤‡∏¢
pm2 stop gdm-backend | ‡∏´‡∏¢‡∏∏‡∏î backend
pm2 restart gdm-backend | ‡∏£‡∏µ‡∏™‡∏ï‡∏≤‡∏£‡πå‡∏ó backend
pm2 logs gdm-backend | ‡∏î‡∏π log ‡∏Ç‡∏≠‡∏á backend
pm2 delete gdm-frontend | ‡∏•‡∏ö process frontend ‡∏≠‡∏≠‡∏Å‡∏à‡∏≤‡∏Å pm2

## ‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡πÑ‡∏ü‡∏•‡πå ecosystem.config.js ‡πÅ‡∏ö‡∏ö Production ‡∏û‡∏£‡πâ‡∏≠‡∏°‡πÉ‡∏ä‡πâ
gdm-app/ecosystem.config.js
```
module.exports = {
  apps: [
    {
      name: 'gdm-backend',
      cwd: './backend',
      script: 'npm',
      args: 'start',
      interpreter: 'none',
      env: {
        NODE_ENV: 'production',
        PORT: 5000, // ‡πÅ‡∏Å‡πâ‡∏ï‡∏≤‡∏° backend port ‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πâ
      },
    },
    {
      name: 'gdm-frontend',
      cwd: './frontend',
      script: 'npx',
      args: 'serve -s build -l 3000',
      interpreter: 'none',
      env: {
        NODE_ENV: 'production',
      },
    }
  ]
};

```
### üìö ‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢
‡∏™‡πà‡∏ß‡∏ô           | ‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢
backend       | ‡πÉ‡∏ä‡πâ npm start ‡∏ï‡∏≤‡∏°‡∏õ‡∏Å‡∏ï‡∏¥ ‡πÄ‡∏ä‡πà‡∏ô Express, NestJS
frontend      | ‡∏£‡∏±‡∏ô npx serve ‡πÄ‡∏û‡∏∑‡πà‡∏≠ serve ‡πÑ‡∏ü‡∏•‡πå build/ ‡∏ó‡∏µ‡πà‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏î‡πâ‡∏ß‡∏¢ npm run build
-s            | ‡∏´‡∏°‡∏≤‡∏¢‡∏ñ‡∏∂‡∏á serve ‡πÅ‡∏ö‡∏ö static mode (‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏Å‡∏±‡∏ö React SPA)
-l 3000       | ‡πÄ‡∏õ‡∏¥‡∏î port 3000 ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö frontend

## üõ† ‡∏™‡∏¥‡πà‡∏á‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏ó‡∏≥‡∏Å‡πà‡∏≠‡∏ô‡∏£‡∏±‡∏ô PM2
### 1. Build frontend ‡∏Å‡πà‡∏≠‡∏ô (‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡πÄ‡∏î‡∏µ‡∏¢‡∏ß‡∏´‡∏£‡∏∑‡∏≠‡πÄ‡∏ß‡∏•‡∏≤‡∏°‡∏µ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç)
```
cd frontend
npm install
npm run build
```
(‡∏°‡∏±‡∏ô‡∏à‡∏∞‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÇ‡∏ü‡∏•‡πÄ‡∏î‡∏≠‡∏£‡πå frontend/build)

### 2. ‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á serve ‡∏ñ‡πâ‡∏≤‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ
serve ‡∏Ñ‡∏∑‡∏≠ HTTP Static File Server ‡∏ï‡∏±‡∏ß‡πÄ‡∏ö‡∏≤‡πÜ
```
npm install -g serve
```
### 3. ‡πÅ‡∏•‡πâ‡∏ß‡∏Ñ‡πà‡∏≠‡∏¢‡∏™‡∏±‡πà‡∏á PM2 ‡∏ï‡∏≤‡∏°‡∏õ‡∏Å‡∏ï‡∏¥
```
pm2 start ecosystem.config.js
pm2 save
pm2 startup
```

## üî• ‡∏™‡∏£‡∏∏‡∏õ Flow Production ‡∏ó‡∏µ‡πà‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö gdm-app

‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô	             ‡∏Ñ‡∏≥‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢
Backend	            ‡πÉ‡∏ä‡πâ npm start (‡πÄ‡∏ä‡πà‡∏ô Express API)
Frontend	          ‡πÉ‡∏ä‡πâ npm run build ‡πÅ‡∏•‡πâ‡∏ß serve ‡∏î‡πâ‡∏ß‡∏¢ npx serve -s build
PM2	                ‡∏Ñ‡∏ß‡∏ö‡∏Ñ‡∏∏‡∏° process ‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î‡∏î‡πâ‡∏ß‡∏¢ ecosystem.config.js


## üéØ ‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏‡πÄ‡∏™‡∏£‡∏¥‡∏° (‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏á domain / SSL)
- ‡∏≠‡∏¢‡∏≤‡∏Å‡∏õ‡∏•‡∏≠‡∏î‡∏†‡∏±‡∏¢‡∏°‡∏≤‡∏Å‡∏Ç‡∏∂‡πâ‡∏ô ‡∏ï‡πâ‡∏≠‡∏á‡πÉ‡∏ä‡πâ Nginx Reverse Proxy ‡∏°‡∏≤‡∏Ñ‡∏±‡πà‡∏ô ‡πÄ‡∏ä‡πà‡∏ô
  - https://gdmapp.devapp.cc ‚Üí proxy ‡πÑ‡∏õ backend
  - https://gdmapp.devapp.cc ‚Üí proxy ‡πÑ‡∏õ frontend
- ‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö SSL (Let's Encrypt)

(‡∏≠‡∏±‡∏ô‡∏ô‡∏µ‡πâ‡∏ñ‡πâ‡∏≤‡∏≠‡∏¢‡∏≤‡∏Å‡∏ó‡∏≥ ‡πÄ‡∏î‡∏µ‡πã‡∏¢‡∏ß‡∏ú‡∏°‡∏™‡∏≠‡∏ô config Nginx ‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÉ‡∏´‡πâ‡πÑ‡∏î‡πâ‡∏≠‡∏µ‡∏Å)

‚úÖ ‡∏™‡∏£‡∏∏‡∏õ: ‡πÑ‡∏ü‡∏•‡πå ecosystem.config.js ‡πÅ‡∏ö‡∏ö production ‡πÄ‡∏™‡∏£‡πá‡∏à‡∏™‡∏°‡∏ö‡∏π‡∏£‡∏ì‡πå‡πÅ‡∏•‡πâ‡∏ß
‡∏≠‡∏¢‡∏≤‡∏Å‡πÉ‡∏´‡πâ‡∏ú‡∏°‡∏ï‡πà‡∏≠‡∏¢‡∏≠‡∏î‡∏ó‡∏≥

"‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á config nginx + ssl ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö gdm-app"

‡πÑ‡∏´‡∏°‡∏Ñ‡∏£‡∏±‡∏ö üî• (‡∏à‡∏∞‡πÑ‡∏î‡πâ deploy ‡πÄ‡∏™‡∏£‡πá‡∏à‡∏™‡∏°‡∏ö‡∏π‡∏£‡∏ì‡πå 100% ‡πÄ‡∏•‡∏¢)
‡∏ñ‡πâ‡∏≤‡∏≠‡∏¢‡∏≤‡∏Å ‡∏ö‡∏≠‡∏Å‡∏°‡∏≤‡πÑ‡∏î‡πâ‡πÄ‡∏•‡∏¢ ‡πÄ‡∏î‡∏µ‡πã‡∏¢‡∏ß‡∏à‡∏±‡∏î‡πÄ‡∏ï‡πá‡∏°‡πÉ‡∏´‡πâ‡∏≠‡∏µ‡∏Å‡∏ä‡∏∏‡∏î! üöÄüòé








